# 🎨 LD2412 圖表功能重大更新

## 📊 新增專業圖表顯示

原本的文字版門能量圖已升級為專業的 **matplotlib** 圖表系統！

### ✨ 新功能特色

#### 1. **四合一圖表布局**
- 🏃 **移動目標柱狀圖** - 清晰顯示各門移動能量
- 🧍 **靜止目標柱狀圖** - 詳細展示靜止目標分布
- 📈 **距離趨勢圖** - 即時追蹤距離變化曲線
- 🎯 **雷達圖** - 360度全方位能量分布視圖

#### 2. **互動式控制**
- 📊 **圖表類型切換** - 柱狀圖/線圖/雷達圖/熱力圖
- ⏱️ **更新間隔調整** - 100ms到2秒可選
- ❄️ **圖表凍結功能** - 暫停更新以便詳細分析
- 💾 **高品質保存** - PNG/PDF/SVG格式輸出

#### 3. **視覺增強**
- 🌙 **深色主題適配** - 與GUI整體風格一致
- 🎨 **顏色編碼** - 移動目標藍色，靜止目標紅色
- 📏 **動態縮放** - 自動調整Y軸範圍
- ⚡ **即時更新** - 流暢的動畫效果

### 🚀 安裝與使用

#### 1. **安裝新依賴**
```bash
# 方法1：使用安裝腳本
./install_matplotlib.sh

# 方法2：手動安裝
pip3 install matplotlib==3.8.2 numpy==1.24.3
```

#### 2. **啟動程式**
```bash
python3 ld2412_dark_gui.py
```

#### 3. **使用圖表功能**
1. 連接LD2412設備
2. 開啟工程模式
3. 切換到「📊 門能量圖」分頁
4. 享受專業圖表顯示！

### 📋 圖表說明

#### **移動目標柱狀圖**
- X軸：門號 (00-13)
- Y軸：能量值 (0-100)
- 黃色虛線：敏感度參考線 (50)
- 即時顯示：時間、光感值、檢測距離

#### **靜止目標柱狀圖**
- X軸：門號 (00-13)
- Y軸：能量值 (0-100)
- 黃色虛線：敏感度參考線 (25)
- 動態標題更新

#### **距離趨勢圖**
- X軸：時間序列
- Y軸：距離 (cm)
- 綠線：檢測距離
- 藍線：移動距離
- 紅線：靜止距離

#### **雷達圖**
- 360度圓形分布
- 藍色區域：移動目標能量
- 紅色區域：靜止目標能量
- 填充效果：增強視覺層次

### 🎛️ 控制功能

#### **圖表類型**
- `bar` - 柱狀圖（預設）
- `line` - 線圖
- `radar` - 雷達圖
- `heatmap` - 熱力圖

#### **更新間隔**
- `100ms` - 極快更新
- `200ms` - 快速更新
- `500ms` - 標準更新（預設）
- `1000ms` - 慢速更新
- `2000ms` - 最慢更新

#### **圖表凍結**
- 點擊「❄️ 凍結圖表」暫停更新
- 點擊「🔥 解凍圖表」恢復更新
- 凍結期間可詳細分析數據

#### **圖表保存**
- 點擊「💾 保存圖表」
- 支援格式：PNG、PDF、SVG
- 高解析度輸出（300 DPI）
- 自動添加時間戳

### 🔧 工具欄功能

matplotlib內建工具欄提供：
- 🔍 **縮放** - 放大特定區域
- 📐 **平移** - 移動視圖位置
- 🏠 **重置** - 回到原始視圖
- ⚙️ **配置** - 調整圖表參數

### 💡 使用技巧

1. **最佳體驗**：建議使用工程模式以獲得完整門能量數據
2. **性能優化**：高頻更新時可適當調整更新間隔
3. **數據分析**：使用凍結功能暫停更新進行詳細分析
4. **報告生成**：保存高品質圖表用於文檔和報告

### 🔄 兼容性

- ✅ 完全向下兼容舊版功能
- ✅ 保留原始文字版圖表作為備份
- ✅ 自動偵測matplotlib是否已安裝
- ✅ 優雅降級至文字版（如果matplotlib不可用）

### 🐛 故障排除

#### **matplotlib導入錯誤**
```bash
pip3 install --upgrade matplotlib numpy
```

#### **圖表不更新**
- 檢查是否已連接設備
- 確認已開啟工程模式
- 檢查圖表是否被凍結

#### **性能問題**
- 調整更新間隔到500ms或更高
- 關閉不需要的圖表類型
- 確保系統有足夠記憶體

### 📈 未來規劃

- 🔥 **熱力圖模式** - 時間-門號-能量三維顯示
- 📊 **統計圖表** - 歷史數據分析
- 🎨 **主題定制** - 更多視覺主題選擇
- 📱 **響應式布局** - 適應不同螢幕尺寸

---

**享受全新的專業圖表體驗！** 🎉 