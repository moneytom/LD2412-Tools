# LD2412 雷達數據分析系統 - 完整使用說明

## 🎯 系統概述

本系統提供多種版本的LD2412雷達數據分析工具，包括GUI圖形介面和命令行版本，滿足不同使用需求。

## 📋 可用版本

### 1. 簡化GUI版本 (推薦) 📱
**文件**: `ld2412_simple_gui.py`

**特色**:
- ✅ 完整的圖形用戶介面
- ✅ 即時數據顯示和分析
- ✅ 預定義命令按鈕
- ✅ 自定義命令輸入
- ✅ 16進制數據顯示
- ✅ 智能警報系統

**啟動方法**:
```bash
python3 ld2412_simple_gui.py
```

### 2. 命令行分析版本 🖥️
**文件**: `ld2412_analyzer_cli.py`

**特色**:
- ✅ 終端界面數據分析
- ✅ ASCII圖表顯示
- ✅ 行為模式識別
- ✅ 統計分析報告
- ✅ 智能警報系統

**啟動方法**:
```bash
python3 ld2412_analyzer_cli.py
```

### 3. 基本命令行版本 💻
**文件**: `ld2412_cli.py`

**特色**:
- ✅ 基本命令控制
- ✅ 16進制數據顯示
- ✅ 簡單數據分析

**啟動方法**:
```bash
python3 ld2412_cli.py
```

## 🚀 推薦使用流程

### 方法一: GUI圖形介面 (最佳體驗)

1. **啟動GUI**
   ```bash
   python3 ld2412_simple_gui.py
   ```

2. **連接設備**
   - 確認串列埠: `/dev/cu.usbserial-0001`
   - 點擊 "🔌 連接" 按鈕
   - 等待狀態顯示 "🟢 已連接"

3. **開始監控**
   - 點擊 "▶️ 開始監控" 按鈕
   - 點擊 "🚀 啟動數據輸出" 命令按鈕

4. **觀察數據**
   - 左側面板: 即時數據和統計
   - 右側面板: 原始16進制數據和解析結果
   - 底部: 系統日誌

### 方法二: 命令行分析 (進階用戶)

1. **啟動分析器**
   ```bash
   python3 ld2412_analyzer_cli.py
   ```

2. **自動化流程**
   - 程序會自動連接串列埠
   - 自動發送啟動命令
   - 開始即時分析和顯示

3. **退出程序**
   - 按 `Ctrl+C` 退出

## 🎛️ GUI功能詳解

### 控制面板功能

#### 連接控制
- **串列埠設定**: 可修改串列埠路徑
- **連接/斷開**: 管理串列埠連接
- **開始/停止監控**: 控制數據接收

#### 預定義命令按鈕
1. **🚀 啟動數據輸出** - 讓LD2412開始發送數據
2. **📋 查詢版本** - 獲取模組版本信息
3. **⚙️ 進入配置** - 進入配置模式
4. **🚪 退出配置** - 退出配置模式
5. **🔄 重啟** - 重啟LD2412模組
6. **🗑️ 清除數據** - 清除所有顯示數據

#### 自定義命令
- 可輸入任何16進制命令
- 格式: `FD FC FB FA 02 00 12 00 04 03 02 01`
- 點擊 "📤 發送" 執行命令

### 數據顯示區域

#### 左側面板
1. **📊 即時數據**
   - 目標狀態 (移動/靜止/無目標)
   - 移動距離和能量
   - 靜止距離和能量
   - 檢測距離

2. **📈 統計信息**
   - 總數據幀數
   - 運行時間
   - 平均幀率
   - 連接和監控狀態

3. **📉 距離趨勢**
   - ASCII圖表顯示 (未來功能)

#### 右側面板
1. **🔢 原始16進制數據**
   - 即時顯示接收到的原始數據
   - 時間戳標記
   - 自動滾動顯示

2. **🔍 解析結果**
   - 結構化的數據解析
   - 每個數據幀的詳細信息
   - 清晰的格式化顯示

#### 底部日誌
- **📝 系統日誌**
  - 連接狀態變化
  - 命令發送記錄
  - 錯誤信息
  - 警報提示

## ⚠️ 智能警報系統

GUI會自動檢測並提示以下情況：

1. **近距離警報** - 目標距離 < 50cm
2. **高能量警報** - 移動或靜止能量 > 80
3. **連接異常** - 串列埠連接問題

## 🔧 常見問題解決

### GUI無法啟動
```bash
# 檢查tkinter是否可用
python3 -c "import tkinter; print('tkinter OK')"

# 如果出現警告，設置環境變數
export TK_SILENCE_DEPRECATION=1
python3 ld2412_simple_gui.py
```

### 無法連接串列埠
1. **檢查設備路徑**
   ```bash
   ls /dev/cu.*
   ```

2. **檢查權限**
   ```bash
   sudo chmod 666 /dev/cu.usbserial-0001
   ```

3. **確認設備連接**
   - 檢查USB連接
   - 確認驅動程式已安裝

### 無數據接收
1. **確認LD2412接線正確**
   - VCC → 3.3V
   - GND → GND
   - TX → GPIO15
   - RX → GPIO2

2. **發送啟動命令**
   - 點擊 "🚀 啟動數據輸出"
   - 或使用自定義命令: `FD FC FB FA 02 00 12 00 04 03 02 01`

3. **檢查ESP8266程序**
   - 確認ESP8266韌體正常運行
   - 檢查串列埠波特率 (115200)

## 💡 使用技巧

### GUI操作技巧
1. **快速清除數據** - 點擊 "🗑️ 清除數據" 重新開始
2. **查看歷史數據** - 滾動查看原始數據和解析結果
3. **監控警報** - 注意日誌區域的警報提示
4. **自定義命令** - 使用空格分隔16進制數值

### 數據分析技巧
1. **觀察能量變化** - 能量值反映目標活動強度
2. **距離趨勢** - 注意距離的變化模式
3. **狀態切換** - 觀察移動/靜止狀態的轉換

## 📊 數據格式說明

### LD2412數據幀格式
```
F4 F3 F2 F1 [長度] [類型] [校驗] [數據...] F8 F7 F6 F5
```

### 解析字段
- **目標狀態**: bit0=有目標, bit1=移動, bit2=靜止
- **移動距離**: 2字節, 小端序
- **移動能量**: 1字節, 0-100
- **靜止距離**: 2字節, 小端序
- **靜止能量**: 1字節, 0-100
- **檢測距離**: 2字節, 小端序

## 🔄 版本選擇建議

| 使用場景 | 推薦版本 | 原因 |
|---------|---------|------|
| 日常測試和調試 | GUI版本 | 直觀易用，功能完整 |
| 深度數據分析 | 命令行分析版 | 詳細統計，行為分析 |
| 快速測試命令 | 基本命令行版 | 輕量快速 |
| 自動化測試 | 命令行分析版 | 適合腳本集成 |

## 📞 技術支援

如有問題，請參考：
1. [README.MD](README.MD) - 完整項目說明
2. [數據分析使用說明.md](數據分析使用說明.md) - 分析系統說明
3. [docs/wiring_guide.md](docs/wiring_guide.md) - 接線指南

---

**最後更新**: 2024年1月
**版本**: v2.1 - 新增簡化GUI版本 