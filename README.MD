# LD2412 雷達傳感器深色主題 GUI 工具

![Python](https://img.shields.io/badge/Python-3.7+-blue.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)
![Platform](https://img.shields.io/badge/Platform-Windows%20|%20macOS%20|%20Linux-lightgrey.svg)

一個功能完整的 LD2412 24GHz 毫米波雷達傳感器控制和數據分析工具，採用現代深色主題設計。

## ✨ 功能特色

### 🎨 現代化界面
- **深色主題設計** - 護眼且專業的界面風格
- **分頁式布局** - 即時監控、統計分析、圖表顯示、配置管理等
- **響應式設計** - 適配不同屏幕尺寸

### 📊 數據監控與分析
- **即時數據流** - 實時顯示目標狀態、距離、能量值
- **專業圖表** - matplotlib 驅動的門能量分布圖、雷達圖、趨勢圖
- **統計分析** - 檢測統計、幀率監控、距離範圍分析
- **工程模式** - 支援 14 門能量詳細分析

### ⚙️ 完整配置管理
- **參數配置** - 距離分辨率、波特率、敏感度設定
- **模式控制** - 工程模式/一般模式切換
- **進階功能** - 背景校正、光感輔助控制、藍牙管理
- **一鍵操作** - 標準配置、快速診斷、完整重啟

### 📋 協議支援
- **完整命令集** - 支援所有 LD2412 通信協議命令
- **自動解析** - 智能數據幀解析和狀態識別
- **錯誤處理** - 完善的連接管理和異常處理

## 🚀 快速開始

### 環境需求
- Python 3.7 或更高版本
- macOS / Windows / Linux

### 安裝依賴
```bash
pip install -r requirements.txt
```

### 運行程序
```bash
python ld2412_dark_gui.py
```

### 基本使用流程
1. **連接設備** - 選擇正確的串列埠並設定波特率
2. **開始監控** - 點擊「開始監控」按鈕
3. **查看數據** - 在各分頁中查看即時數據和分析結果
4. **配置設定** - 在「配置管理」分頁中調整參數

## 📱 界面截圖

### 即時監控
- 即時顯示目標狀態（無目標/運動/靜止/混合）
- 距離和能量值實時更新
- 工程模式下顯示 14 門詳細能量分布

### 圖表分析
- **門能量分布圖** - 柱狀圖顯示各門能量值
- **雷達圖** - 極坐標顯示目標分布
- **趨勢圖** - 時間軸上的距離變化
- **個別門敏感度標記** - 紅線標示各門敏感度閾值

### 配置管理
- 距離分辨率設定（0.2m/0.5m/0.75m）
- 波特率配置（9600-460800 bps）
- 光感輔助控制功能
- 背景校正和藍牙管理

## 🔧 LD2412 協議支援

### 支援的命令
- **基本控制**: 進入/退出配置模式、查詢參數、重啟模組
- **模式切換**: 工程模式/一般模式切換
- **參數設定**: 距離分辨率、波特率、敏感度配置
- **進階功能**: 動態背景校正、光感輔助控制、MAC查詢

### 數據格式
- **一般模式**: 基本目標信息（21字節）
- **工程模式**: 詳細門能量數據（53字節）
- **命令回應**: 完整的命令確認和狀態回報

詳細協議說明請參考：[LD2412串口通信協議說明.md](LD2412串口通信協議說明.md)

## 🛠️ 技術特點

### 高效數據處理
- **多線程架構** - 數據讀取與界面更新分離
- **智能緩衝** - 環形緩衝區處理高速數據流
- **實時解析** - 配置模式下極速命令回應

### 可靠性設計
- **自動重連** - 連接中斷自動檢測和恢復
- **錯誤處理** - 完善的異常捕獲和用戶提示
- **數據驗證** - 幀格式驗證和校驗和檢查

### 擴展性
- **模組化設計** - 易於添加新功能和命令
- **可配置界面** - 支援不同的圖表類型和更新間隔
- **插件架構** - 支援自定義命令和分析模組

## 📦 文件結構

```
LD2412-Tools/
├── README.md                          # 專案說明文件
├── ld2412_dark_gui.py                 # 主程序文件
├── LD2412串口通信協議說明.md           # 詳細協議文檔
├── requirements.txt                   # Python 依賴列表
├── install_dependencies.py           # 依賴安裝腳本
├── .gitignore                        # Git 忽略文件
└── LICENSE                           # 開源許可證
```

## 🔍 故障排除

### 常見問題

**Q: 找不到串列埠設備？**
A: 
- 確認 LD2412 模組已正確連接
- 檢查 USB 轉串列埠驅動是否已安裝
- 嘗試點擊「掃描埠」按鈕刷新列表

**Q: 連接後無數據顯示？**
A:
- 確認波特率設定正確（預設 115200）
- 點擊「開始監控」按鈕
- 嘗試發送「查詢參數」命令啟動數據輸出

**Q: 圖表顯示異常？**
A:
- 確認已安裝 matplotlib: `pip install matplotlib`
- 開啟工程模式以獲取詳細門能量數據
- 檢查是否有中文字體支援問題

**Q: 配置命令無效？**
A:
- 先執行「進入配置模式」
- 等待命令執行完成再發送下一個命令
- 配置完成後執行「退出配置模式」

### 系統兼容性
- **macOS**: 原生支援，推薦使用 Homebrew 安裝 Python
- **Windows**: 需要安裝 Python 3.7+ 和對應的串列埠驅動
- **Linux**: 確保用戶有串列埠訪問權限 (`sudo usermod -a -G dialout $USER`)

## 🤝 貢獻指南

歡迎提交 Issue 和 Pull Request！

### 開發環境設置
```bash
git clone https://github.com/你的用戶名/LD2412-Tools.git
cd LD2412-Tools
pip install -r requirements.txt
python ld2412_dark_gui.py
```

### 代碼規範
- 遵循 PEP 8 Python 編碼規範
- 使用有意義的變數和函數命名
- 添加適當的註解和文檔字符串

## 📄 開源許可

本專案採用 MIT 許可證 - 詳見 [LICENSE](LICENSE) 文件

## 🔗 相關資源

- **LD2412 官方規格**: [HLK Tech](https://www.hlktech.net/index.php?id=988)
- **協議參考實現**: [Rihan9/LD2412](https://github.com/Rihan9/LD2412)
- **ESP Home 組件**: [LD2412 Component](https://github.com/Rihan9/LD2412/tree/main/components/LD2412)

## 📞 支援與反饋

如果您在使用過程中遇到問題或有改進建議，請：
- 提交 [GitHub Issue](https://github.com/你的用戶名/LD2412-Tools/issues)
- 發起 [討論](https://github.com/你的用戶名/LD2412-Tools/discussions)

---

**版本**: v2.6  
**最後更新**: 2024年1月  
**適用設備**: LD2412, LD2410 系列毫米波雷達傳感器  
**開發者**: LD2412 開發團隊  

⭐ 如果這個專案對您有幫助，請給我們一個 Star！
